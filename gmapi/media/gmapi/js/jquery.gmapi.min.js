jQuery(function(e){function n(a,b){function c(){return a.apply(this,b)}c.prototype=a.prototype;return new c}function l(a,b){b=b||window.google.maps;a=a.split(".");return a.length>1?l(a.slice(1).join("."),b[a[0]]):b[a[0]]}function g(a,b){if(a==="div")return b;if(e.isPlainObject(a)||e.isArray(a)){if(a.cls){var c=[];if(a.arg)for(var d in a.arg)c.push(g(a.arg[d],b));return n(l(a.cls),c)}if(a.val)return l(a.val);for(c in a)a[c]=g(a[c],b)}return a}function h(a){var b=new google.maps.LatLngBounds;if(a instanceof
google.maps.MVCArray||e.isArray(a)||e.isPlainObject(a))for(var c in a)b.union(h(a[c]));else if(a instanceof google.maps.LatLng)b.extend(a);else if(a instanceof google.maps.Marker)b.extend(a.getPosition());else if(a instanceof google.maps.Polyline)b.union(h(a.getPath()));else a instanceof google.maps.Polygon&&b.union(h(a.getPaths()));return b}function i(a){return function(){var b=e(this),c=b.data(a);for(var d in c)c[d].setMap(null);b.removeData(a)}}function j(a,b){return function(){if(b){var c=e(this),
d=c.data("map"),f=c.data(a)||[];for(var o in b){var m=g(b[o],this);m.setMap(d);f.push(m)}c.data(a,f)}}}function k(a){return function(){var b=e(this),c=b.data("map");b=b.data(a);c&&b&&c.fitBounds(h(b))}}e.fn.extend({removeMarkers:function(){return this.each(i("markers"))},removePolylines:function(){return this.each(i("polylines"))},removePolygons:function(){return this.each(i("polygons"))},addMarkers:function(a){return this.each(j("markers",a))},addPolylines:function(a){return this.each(j("polylines",
a))},addPolygons:function(a){return this.each(j("polygons",a))},fitMarkers:function(){return this.each(k("markers"))},fitPolylines:function(){return this.each(k("polylines"))},fitPolygons:function(){return this.each(k("polygons"))},newMap:function(a){var b=[];b.mkr="markers";b.pln="polylines";b.pgn="polygons";return this.each(function(){var c=e(this);for(var d in b)i(b[d]).call(this);c.removeData("map");var f=g(a,c.children("div")[0]);c.data("map",f);for(d in b)if(d in a){j(b[d],a[d]).call(this);
f.getCenter()&&f.getZoom()>=0||k(b[d]).call(this)}c.trigger("newmap")})}});e("div.gmap:visible").each(function(){var a=e(this),b=a.children("div"),c=(b.attr("class").match(/{.*}/)||[])[0];if(c){b.removeClass();a.newMap(e.parseJSON(c));var d=a.children("img"),f=window.setTimeout(function(){d.css("z-index",-1)},2E3);google.maps.event.addListenerOnce(a.data("map"),"tilesloaded",function(){window.clearTimeout(f);d.css("z-index",-1)})}})});
